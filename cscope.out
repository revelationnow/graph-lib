cscope 15 /cygdrive/c/Projects/dev/graph-lib               0000012148
	@common.hpp

2 #iâdeà
__COMMON_HPP_


3 
	#__COMMON_HPP_


	)

5 
usšg
 
Çme¥aû
 
	g¡d
;

6 şas 
	cNode_ba£


8 
	mpublic
:

12 şas 
	cLšk_ba£


14 
	mpublic
:

16 
	eboŞ—n
 {
	mFALSE
, 
	mTRUE
};

	@errHandler.hpp

2 #iâdeà
_ERRHANDLER_HPP_


3 
	#_ERRHANDLER_HPP_


	)

5 
	#PRINT_TAG
 
__FILE__
<<"\t"<<
__LINE__
<<"\t"<<
__DATE__
<<"\t"<<
__TIME__
<<"\t"

	)

6 
	#OUTPUT_MSG
(
TAG
, 
MSG
è
cout
<<
PRINT_TAG
<< #TAG" : " << MSG << 
’dl
;

	)

	@graph.hpp

2 #iâdeà
__GRAPH_HPP_


3 
	#__GRAPH_HPP_


	)

4 
	~"commÚ.hµ
"

5 
	~"node.hµ
"

6 
	~"lšk.hµ
"

8 
usšg
 
Çme¥aû
 
	g¡d
;

10 
	g‹m¶©e
<
şass
 
	gTnode
, cÏs 
	gTlšk
>

11 şas 
	cG¿ph


13 
	m´iv©e
:

14 
li¡
<
Node
<
Tnode
,
	mTlšk
>*> 
	mnodes_
;

15 
	mli¡
<
	mLšk
<
	mTlšk
,
	mTnode
>*> 
	mlšks_
;

16 
	mg¿ph_id_
;

17 
	mtÙ®_g¿phs
;

18 
	mtÙ®_g¿ph_ids
;

19 
	mpublic
:

20 
G¿ph
();

21 
G¿ph
(
li¡
<
Node
<
Tnode
,
Tlšk
>*>,†i¡<
Lšk
<Tlink,Tnode>*>);

22 
di¥ÏyG¿ph
();

23 
ü—‹Lšk
();

24 
ü—‹Node
();

25 
de¡royLšk
(
lid
);

26 
de¡royNode
(
nid
);

27 
	mNode
<
	mTnode
,
	mTlšk
>* 
g‘NodeById
(
nid
);

28 
	mLšk
<
	mTlšk
,
	mTnode
>* 
g‘LškById
(
lid
);

29 
addLškToG¿ph
(
Lšk
<
Tlšk
,
Tnode
> * 
lšk
);

30 
addNodeToG¿ph
(
Node
<
Tnode
,
Tlšk
> * 
node
);

31 
©chLškToNodeAtEdge
(
lid
,
nid
, 
edge
);

32 
d‘achLškFromNodeAtEdge
(
lid
,
nid
, 
edge
);

35 
	g‹m¶©e
<
şass
 
	gTnode
,şas 
	gTlšk
>

36 
	gG¿ph
<
	gTnode
,
	gTlšk
>::
tÙ®_g¿phs
 = 0;

38 
	g‹m¶©e
<
şass
 
	gTnode
,şas 
	gTlšk
>

39 
	gG¿ph
<
	gTnode
,
	gTlšk
>::
tÙ®_g¿ph_ids
 = 0;

41 
	g‹m¶©e
<
şass
 
	gTnode
,şas 
	gTlšk
>

42 
	gG¿ph
<
	gTnode
,
	gTlšk
>::
	$G¿ph
()

44 
g¿ph_id_
 = 
tÙ®_g¿ph_ids
;

45 
tÙ®_g¿phs
++;

46 
tÙ®_g¿ph_ids
++;

48 
	}
}

50 
	g‹m¶©e
<
şass
 
	gTnode
,şas 
	gTlšk
>

51 
	gG¿ph
<
	gTnode
,
	gTlšk
>::
	$di¥ÏyG¿ph
()

53 
boŞ—n
* 
vis™ed
 = 
Ãw
 boŞ—n[
nodes_
.
	`size
()];

54 
tÙ®_vis™ed
 = 0;

55 
li¡
<
Node
<
Tnode
,
Tlšk
>*> 
t_nodes
;

56 
Node
<
Tnode
,
Tlšk
>* 
t_node
;

57 
Node
<
Tnode
,
Tlšk
>* 
l_node
[2];

58 
t_nodes
.
	`push_back
((
nodes_
.
	`back
()));

60 
tÙ®_vis™ed
 < 
Node
<
Tnode
,
Tlšk
>::
tÙ®_nodes
)

62 
Node
<
Tnode
,
Tlšk
>* 
t_node
 = 
t_nodes
.
	`äÚt
();

63 if(
t_node
 =ğ
NULL
)

67 
t_nodes
.
	`pİ_äÚt
();

68 
	`OUTPUT_MSG
(
INFO
, "Nod: "<<
t_node
->
	`g‘Id
());

69 
vis™ed
[
t_node
->
	`g‘Id
()] = 
TRUE
;

70 
tÙ®_vis™ed
++;

71 
ty³Çme
 
li¡
<
Lšk
<
Tlšk
,
Tnode
>*>::
™”©Ü
 
lšk_™”©Ü
 = 
t_node
->
lšks_
.
	`begš
();lšk_™”©Ü !ğt_node->lšks_.
	`’d
(); ++link_iterator)

73 
	`OUTPUT_MSG
(
INFO
, "\t|| "<<((*
lšk_™”©Ü
)->
	`g‘NodeAtEdge
(0))->
	`g‘Id
()<<" ||----------<"<<(*link_iterator)->getId()<<">----------|| "<<((*link_iterator)->getNodeAtEdge(1))->getId()<<" ||");

74 
l_node
[0] = (*
lšk_™”©Ü
)->
	`g‘NodeAtEdge
(0);

75 
l_node
[1] = (*
lšk_™”©Ü
)->
	`g‘NodeAtEdge
(1);

77 if(
l_node
[0] !ğ
NULL
)

79 if(
vis™ed
[
l_node
[0]->
	`g‘Id
()] !ğ
TRUE
)

81 
t_nodes
.
	`push_back
(
l_node
[0]);

85 if(
l_node
[1] !ğ
NULL
)

87 if(
vis™ed
[
l_node
[1]->
	`g‘Id
()] !ğ
TRUE
)

89 
t_nodes
.
	`push_back
(
l_node
[1]);

94 
	}
}

96 
	g‹m¶©e
<
şass
 
	gTnode
,şas 
	gTlšk
>

97 
	gG¿ph
<
	gTnode
,
	gTlšk
>::
	$©chLškToNodeAtEdge
(
lid
, 
nid
, 
edge
)

99 
Node
<
Tnode
,
Tlšk
>* 
node
 = 
	`g‘NodeById
(
nid
);

100 
Lšk
<
Tlšk
,
Tnode
>* 
lšk
 = 
	`g‘LškById
(
lid
);

102 if(
NULL
 =ğ
node
)

104 
	`OUTPUT_MSG
(
ERR
, "Cª'ˆfšd NodID : "<<
nid
<<" iÀG¿ph : "<<
g¿ph_id_
);

107 if(
NULL
 =ğ
lšk
)

109 
	`OUTPUT_MSG
(
ERR
, "Cª'ˆfšd Lšk ID : "<<
lid
<<" iÀG¿ph : "<<
g¿ph_id_
);

113 if((0 !ğ
edge
) && (1 !=ƒdge))

115 
	`OUTPUT_MSG
(
ERR
, "Edg: "<<
edge
<<" is out of bounds");

119 if(
NULL
 !ğ
lšk
->
	`g‘NodeAtEdge
(
edge
))

121 
	`OUTPUT_MSG
(
ERR
, "Lšk ID : "<<
lid
<<"‡Ì—dy ha ªÙh” Nod: "<<(
lšk
->
	`g‘NodeAtEdge
(
edge
))->
	`g‘Id
()<<"‡t Edge : "<<edge);

126 
lšk
->
node_
[
edge
] = 
node
;

127 
node
->
lšks_
.
	`push_back
(
lšk
);

128 
	`OUTPUT_MSG
(
INFO
, "A‰ached Lšk : "<<
lšk
->
	`g‘Id
()<<"ØNod: "<<
node
->g‘Id()<<"‡ˆEdg: "<<
edge
);

131 
	}
}

133 
	g‹m¶©e
<
şass
 
	gTnode
,şas 
	gTlšk
>

134 
	gG¿ph
<
	gTnode
,
	gTlšk
>::
	$d‘achLškFromNodeAtEdge
(
lid
, 
nid
, 
edge
)

137 
Node
<
Tnode
,
Tlšk
>* 
node
 = 
	`g‘NodeById
(
nid
);

138 
Lšk
<
Tlšk
,
Tnode
>* 
lšk
 = 
	`g‘LškById
(
lid
);

139 if(
NULL
 =ğ
node
)

141 
	`OUTPUT_MSG
(
ERR
, "Cª'ˆfšd NodID : "<<
nid
<<" iÀG¿ph : "<<
g¿ph_id_
);

144 if(
NULL
 =ğ
lšk
)

146 
	`OUTPUT_MSG
(
ERR
, "Cª'ˆfšd Lšk ID : "<<
lid
<<" iÀG¿ph : "<<
g¿ph_id_
);

150 if((0 !ğ
edge
) && (1 !=ƒdge))

152 
	`OUTPUT_MSG
(
ERR
, "Edg: "<<
edge
<<" is out of bounds");

155 if(
lšk
->
node_
[
edge
] !ğ
node
)

157 
	`OUTPUT_MSG
(
ERR
,"Cª'ˆfšd NodID "<<
nid
<<"‡ˆEdg: "<<
edge
<<" oàLšk ID : "<<
lid
);

162 
lšk
->
	`d‘achNodeByEdge
(
edge
);

163 
node
->
	`»moveLšk
(
lšk
);

167 
	}
}

170 
	g‹m¶©e
<
şass
 
	gTnode
,şas 
	gTlšk
>

171 
	gNode
<
	gTnode
,
	gTlšk
>* 
	gG¿ph
<Tnode,Tlšk>::
	$g‘NodeById
(
nid
)

173 
ty³Çme
 
li¡
<
Node
<
Tnode
,
Tlšk
>*>::
™”©Ü
 
node_™”©Ü
 = 
nodes_
.
	`begš
();‚ode_™”©Ü !ğnodes_.
	`’d
(); ++node_iterator)

175 if((*
node_™”©Ü
)->
	`g‘Id
(è=ğ
nid
)

177  (*
node_™”©Ü
);

180  
NULL
;

181 
	}
}

184 
	g‹m¶©e
<
şass
 
	gTnode
,şas 
	gTlšk
>

185 
	gLšk
<
	gTlšk
,
	gTnode
>* 
	gG¿ph
<Tnode,Tlšk>::
	$g‘LškById
(
lid
)

187 
ty³Çme
 
li¡
<
Lšk
<
Tlšk
,
Tnode
>*>::
™”©Ü
 
lšk_™”©Ü
 = 
lšks_
.
	`begš
();†šk_™”©Ü !ğlšks_.
	`’d
(); ++link_iterator)

189 if((*
lšk_™”©Ü
)->
	`g‘Id
(è=ğ
lid
)

191  (*
lšk_™”©Ü
);

194  
NULL
;

195 
	}
}

197 
	g‹m¶©e
<
şass
 
	gTnode
,şas 
	gTlšk
>

198 
	gG¿ph
<
	gTnode
,
	gTlšk
>::
addLškToG¿ph
(
Lšk
<
Tlšk
,
Tnode
>* 
lšk
)

200 if(
	glšk
 !ğ
NULL
)

202 
lšks_
.
push_äÚt
((
lšk
));

207 
OUTPUT_MSG
(
ERR
,"Cª'ˆadd NULL†škØG¿ph ID : "<<
g¿ph_id_
);

213 
	g‹m¶©e
<
şass
 
	gTnode
,şas 
	gTlšk
>

214 
	gG¿ph
<
	gTnode
,
	gTlšk
>::
addNodeToG¿ph
(
Node
<
Tnode
,
Tlšk
>* 
node
)

216 if(
	gnode
 !ğ
NULL
)

218 
nodes_
.
push_äÚt
(
node
);

219 
	gNode
<
	gTnode
,
	gTlšk
> *
	g‹mp
 = 
nodes_
.
äÚt
();

224 
OUTPUT_MSG
(
ERR
,"Cª'ˆadd NULL‚odtØG¿ph ID : "<<
g¿ph_id_
);

	@link.hpp

2 #iâdeà
__LINK_HPP_


3 
	#__LINK_HPP_


	)

5 
	~"”rHªdËr.hµ
"

6 
	~"commÚ.hµ
"

7 
usšg
 
Çme¥aû
 
	g¡d
;

	@main.cpp

2 
	~<io¡»am
>

3 
	~"g¿ph.hµ
"

4 
	~"”rHªdËr.hµ
"

6 
usšg
 
Çme¥aû
 
	g¡d
;

10 
	$maš
(
¬gc
, * 
¬gv
[])

12 
	`OUTPUT_MSG
(
INFO
,"Starting Program");

14 cÚ¡ 
num_nodes
 = 10;

15 cÚ¡ 
num_lšks
 = (
num_nodes
 * (num_nodes - 1))/2;

16 
Node
<,>* 
node
[
num_nodes
];

17 
Lšk
<,>* 
lšk
[
num_lšks
];

18 
G¿ph
<,> 
g¿ph
;

19 
i
 = 0;i<
num_nodes
;i++)

21 
node
[
i
] = 
Ãw
 
Node
<,>(1);

22 
g¿ph
.
	`addNodeToG¿ph
(
node
[
i
]);

24 
i
=0;i<
num_lšks
;i++)

26 
lšk
[
i
] = 
Ãw
 
Lšk
<,>(1);

27 
g¿ph
.
	`addLškToG¿ph
(
lšk
[
i
]);

30 
k
 = 0;

32 
i
 = 0;i<
num_nodes
;i++)

34 
j
 = 
i
+1;j<
num_nodes
;j++)

36 
g¿ph
.
	`©chLškToNodeAtEdge
(
lšk
[
k
]->
	`g‘Id
(),
node
[
i
]->getId(), 0);

37 
g¿ph
.
	`©chLškToNodeAtEdge
(
lšk
[
k
]->
	`g‘Id
(),
node
[
j
]->getId(), 1);

38 
k
++;

44 
g¿ph
.
	`di¥ÏyG¿ph
();

45 
	`OUTPUT_MSG
(
INFO
,"I ju¡ c»©ed "<<
num_nodes
<<"‚ode ªd "<<
num_lšks
<<"†inks");

46 
i
 = 0;i<
num_nodes
;i++)

48 
d–‘e
 
node
[
i
];

50 
i
 = 0;i<
num_lšks
;i++)

52 
d–‘e
 
lšk
[
i
];

55 
	}
}

	@node.hpp

2 #iâdeà
__NODE_HPP_


3 
	#__NODE_HPP_


	)

5 
	~<li¡
>

7 
	~"”rHªdËr.hµ
"

8 
	~"commÚ.hµ
"

9 
usšg
 
Çme¥aû
 
	g¡d
;

10 
	g‹m¶©e
 <
şass
 
	gTlšk
,şas 
	gTnode
>

11 
şass
 
	gLšk
;

13 
	g‹m¶©e
 <
şass
 
	gTnode
,şas 
	gTlšk
>

14 
şass
 
	gG¿ph
;

24 
	g‹m¶©e
 <
şass
 
	gTnode
,şas 
	gTnod–šk
>

25 şas 
	cNode
 : 
public
 
Node_ba£


27 
´iv©e
:

29 
li¡
<
Lšk
<
Tnod–šk
,
	mTnode
>*> 
	mlšks_
;

31 
Tnode
 
	mv®ue_
;

33 
	mnode_id_
;

35 
	mtÙ®_nodes
;

37 
	mtÙ®_node_ids
;

38 
	mpublic
:

40 
Node
();

42 
Node
(
Tnode
 
v®ue
 );

44 
g‘Deg»e
();

46 
Tnode
 
g‘V®ue
();

48 
g‘Id
();

50 
£tV®ue
(
Tnode
 
v®ue
);

52 
addLškEdge
(
Lšk
<
Tnod–šk
,
Tnode
>* 
lšk
,
edge
);

54 
boŞ—n
 
lškA‰achedToNode
(
Lšk
<
Tnod–šk
,
Tnode
>* 
lšk
);

56 
»moveLškEdge
(
Lšk
<
Tnod–šk
,
Tnode
>* 
lšk
,
edge
);

58 
»moveLšk
(
Lšk
<
Tnod–šk
,
Tnode
>* 
lšk
);

60 
ä›nd
 
şass
 
	mG¿ph
<
	mTnode
,
	mTnod–šk
>;

71 
	g‹m¶©e
<
şass
 
	gTlšk
,şas 
	gTnode
>

72 şas 
	cLšk
 : 
public
 
Lšk_ba£


74 
´iv©e
:

76 
Tlšk
 
weight_
;

78 
	mNode
<
	mTnode
,
	mTlšk
>* 
	mnode_
[2];

80 
	mlšk_id_
;

82 
	mtÙ®_lšks
;

84 
	mtÙ®_lšk_ids
;

85 
	mpublic
:

87 
Lšk
();

89 
Lšk
(
Tlšk
 
weight
);

91 
g‘Id
();

93 
addNodeToEdge
(
Node
<
Tnode
,
Tlšk
>* 
node
,
edge
);

95 
nodeIDA‰achedToEdge
(
edge
);

97 
d‘achNodeByEdge
(
edge
);

99 
	mNode
<
	mTnode
,
	mTlšk
>* 
g‘NodeAtEdge
(
edge
);

101 
ä›nd
 
şass
 
	mG¿ph
<
	mTnode
,
	mTlšk
>;

107 
	g‹m¶©e
<
şass
 
	gTnode
,şas 
	gTlšk
>

108 
	gNode
<
	gTnode
,
	gTlšk
>::
tÙ®_nodes
 = 0;

110 
	g‹m¶©e
<
şass
 
	gTnode
,şas 
	gTlšk
>

111 
	gNode
<
	gTnode
,
	gTlšk
>::
tÙ®_node_ids
 = 0;

113 
	g‹m¶©e
 <
şass
 
	gTnode
,şas 
	gTlšk
>

114 
	gNode
<
	gTnode
,
	gTlšk
>::
	$Node
()

116 
node_id_
 = 
tÙ®_node_ids
;

117 
tÙ®_nodes
++;

118 
tÙ®_node_ids
++;

119 
	}
}

121 
	g‹m¶©e
 <
şass
 
	gTnode
,şas 
	gTlšk
>

122 
	gNode
<
	gTnode
,
	gTlšk
>::
	$Node
(
Tnode
 
v®ue
)

124 
v®ue_
 = 
v®ue
;

125 
node_id_
 = 
tÙ®_node_ids
;

126 
tÙ®_nodes
++;

127 
tÙ®_node_ids
++;

128 
	}
}

130 
	g‹m¶©e
<
şass
 
	gTnode
,şas 
	gTlšk
>

131 
	gNode
<
	gTnode
,
	gTlšk
>::
	$g‘Deg»e
()

133  
lšks_
.
	`size
();

134 
	}
}

136 
	g‹m¶©e
 <
şass
 
	gTnode
,şas 
	gTlšk
>

137 
Tnode
 
	gNode
<
	gTnode
,
	gTlšk
>::
	$g‘V®ue
()

139  
v®ue_
;

140 
	}
}

142 
	g‹m¶©e
<
şass
 
	gTnode
,şas 
	gTlšk
>

143 
	gNode
<
	gTnode
,
	gTlšk
>::
	$g‘Id
()

145  
node_id_
;

146 
	}
}

148 
	g‹m¶©e
<
şass
 
	gTnode
,şas 
	gTlšk
>

149 
	gNode
<
	gTnode
,
	gTlšk
>::
	$£tV®ue
(
Tnode
 
v®ue
)

151 
v®ue_
 = 
v®ue
;

152 
	}
}

154 
	g‹m¶©e
<
şass
 
	gTnode
,şas 
	gTlšk
>

155 
boŞ—n
 
	gNode
<
	gTnode
,
	gTlšk
>::
lškA‰achedToNode
(
Lšk
<
Tlšk
,
Tnode
>* 
lšk
)

157 
	gli¡
<
	gLšk_ba£
*>::
™”©Ü
 
lšk_™”©Ü
 = 
lšks_
.
begš
();
	glšk_™”©Ü
 !ğlšks_.
’d
();++link_iterator)

159 if((*(
	gLšk
<
	gTlšk
,
	gTnode
>*)
	glšk_™”©Ü
)->
g‘Id
(è=ğ
lšk
->getId())

161  
TRUE
;

164  
	gFALSE
;

167 
	g‹m¶©e
<
şass
 
	gTnode
,şas 
	gTlšk
>

168 
	gNode
<
	gTnode
,
	gTlšk
>::
»moveLšk
(
Lšk
<
Tlšk
,
Tnode
>* 
lšk
)

170 
	gli¡
<
	gLšk_ba£
*>::
™”©Ü
 
lšk_™”©Ü
 = 
lšks_
.
begš
();
	glšk_™”©Ü
 !ğlšks_.
’d
(); ++link_iterator)

172 if((*(
	gLšk
<
	gTlšk
,
	gTnode
>)
	glšk_™”©Ü
)->
g‘Id
(è=ğ
lšk
->getId())

174 
lšks_
.
”a£
(
lšk_™”©Ü
);

186 
	g‹m¶©e
 <
şass
 
	gTlšk
,şas 
	gTnode
>

187 
	gLšk
<
	gTlšk
,
	gTnode
>::
tÙ®_lšks
 = 0;

188 
	g‹m¶©e
 <
şass
 
	gTlšk
,şas 
	gTnode
>

189 
	gLšk
<
	gTlšk
,
	gTnode
>::
tÙ®_lšk_ids
 = 0;

191 
	g‹m¶©e
 <
şass
 
	gTlšk
,şas 
	gTnode
>

192 
	gLšk
<
	gTlšk
,
	gTnode
>::
	$Lšk
()

194 
lšk_id_
 = 
tÙ®_lšks
;

195 
tÙ®_lšks
++;

196 
node_
[0] = 
NULL
;

197 
node_
[1] = 
NULL
;

198 
	}
}

199 
	g‹m¶©e
 <
şass
 
	gTlšk
,şas 
	gTnode
>

200 
	gLšk
<
	gTlšk
,
	gTnode
>::
	$Lšk
(
Tlšk
 
weight
)

202 
weight_
 = 
weight
;

203 
lšk_id_
 = 
tÙ®_lšks
;

204 
tÙ®_lšks
++;

205 
node_
[0] = 
NULL
;

206 
node_
[1] = 
NULL
;

207 
	}
}

209 
	g‹m¶©e
 <
şass
 
	gTlšk
,şas 
	gTnode
>

210 
	gLšk
<
	gTlšk
,
	gTnode
>::
	$g‘Id
()

212  
lšk_id_
;

213 
	}
}

215 
	g‹m¶©e
 <
şass
 
	gTlšk
,şas 
	gTnode
>

216 
	gNode
<
	gTnode
,
	gTlšk
>* 
	gLšk
<Tlšk,Tnode>::
	$g‘NodeAtEdge
(
edge
)

218 if(
edge
 != 0 &&ƒdge != 1)

220 
	`OUTPUT_MSG
(
ERR
, "Lšk ID : "<<
lšk_id_
<<"ryšgØg‘‚od© unsuµÜ‹d Edg: "<<
edge
);

221  
NULL
;

225 if(
NULL
 !ğ
node_
[
edge
])

227  
node_
[
edge
];

231  
node_
[
edge
];

234 
	}
}

236 
	g‹m¶©e
 <
şass
 
	gTlšk
,şas 
	gTnode
>

237 
	gLšk
<
	gTlšk
,
	gTnode
>::
	$d‘achNodeByEdge
(
edge
)

239 if((0==
edge
) || (1==edge))

241 
node_
[
edge
] = 
NULL
;

245 
	`OUTPUT_MSG
(
ERR
, "Lšk ID : "<<
lšk_id_
<<"ryšgØd‘ach‚od© unsuµÜ‹d Edg: "<<
edge
);

247 
	}
}

	@
1
.
1
/usr/include
6
63
common.hpp
errHandler.hpp
graph.hpp
link.hpp
main.cpp
node.hpp
